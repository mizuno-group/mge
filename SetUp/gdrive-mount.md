# Google Driveのマウントの方法

Windows10でもCentOS7,8でもマウントできる。ただし、Windows10の方がずっと簡単。

## Windows

### キャッシュの保管場所の移動

マウントする前に、Google Driveのキャッシュの保管場所をSSDからHDDに移しておく必要がある。特に大量に画像データなどをダウンロードする際には合計TB単位のファイルを書き込んでは消すという作業を繰り返すことになるため、HDDで行った方がよい。

1. HDDドライブにキャッシュ保管場所となる空フォルダを作っておく。

例

```
D:\DriveFS
```

2. コマンドプロンプトを管理者権限で起動。

3. そのままディレクトリを移動せず、以下のコマンドでシンボリックリンクが作成される。

```
mklink /D C:\Users\<ユーザー名>\AppData\Local\Google\DriveFS <キャッシュ保管場所>
```

上記例に従うと

```
mklink /D C:\Users\<ユーザー名>\AppData\Local\Google\DriveFS D:\DriveFS
```

これでGoogle Driveをマウントした際にキャッシュの保管場所がHDDドライブに移る。

### Google Driveのマウント

https://estuarine.jp/2020/05/local-mount-google-drive/

上記のサイトを参考にした。

1. マウントしたいGoogle Driveのアカウントにログイン。(東大アカウントである必要あり。)

2. 画面右上の設定ボタン（歯車）を押し、「デスクトップ版ドライブをダウンロード」をクリック。

3. 開いたページの指示に従い、昔のアプリが入っている場合はアンインストール。（この条件に遭遇したことがないので、未確認、入ってない場合は当然飛ばしてよい）

4. 「ドライブ ファイル ストリームをダウンロードしてインストールする」をクリック。

5. 「WINDOWS版をダウンロード」をクリック。

6. ダウンロードしたexeファイルを実行するとインストールされる。インストールが終わったら東大アカウントでログイン。

7. 通常であればPCのGドライブに自動的にマウントされるので確認。

クラウドドライブのマウントにおいては、データは原則クラウド側に保存されるが、このアプリではローカルでも保存したいファイルやフォルダを個別で指定して保持できるため、同期的に使うことが可能。下記はインストールサイトから抜粋。

```
1. ドライブ ファイル ストリームのメニュー アイコン Drive File Stream をクリックします。
2. Google ドライブ フォルダを開くアイコン Google Drive folder をクリックします。
3. オフラインで保存するファイルまたはフォルダを右クリックします。
4. [ドライブ ファイル ストリーム] 次に [オフラインで使用可] をクリックします。
5. ファイルをオフラインで保存すると、ファイルの横に緑色のチェックマークが表示されます。
```
## CentOS

https://szkhaven.com/2019/04/21/centos7_mount_googledrive/

上記を参考。細かい点に修正を加えればCentOS8でも使用可能。のちに追記予定。

## Ubuntu

https://qiita.com/cabbage_lettuce/items/c4544b3e5cd28caf04bc

上記を参考にした。

google-drive-ocamlfuse

```

```